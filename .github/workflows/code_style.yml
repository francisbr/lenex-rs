name: Code Style

on:
    pull_request:
        branches:
            - master

jobs:
    cargo-fmt:
        name: Cargo Format
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v3
            - uses: actions-rs/toolchain@v1
              with:
                profile: minimal
                toolchain: stable
                components: rustfmt
            - uses: actions-rs/cargo@v1
              with:
                command: fmt
                args: --all -- --check
    
    cargo-clippy:
        name: Cargo Clippy
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v2
            - uses: actions-rs/toolchain@v1
              with:
                profile: minimal
                toolchain: stable
                components: clippy
            - uses: actions-rs/cargo@v1
              with:
                command: clippy
                args: -- -D warnings